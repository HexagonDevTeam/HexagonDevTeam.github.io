<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Game - Hexagon Development</title>
<link href="https://fonts.googleapis.com/css2?family=Lexend&display=swap" rel="stylesheet">
<style>
body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: linear-gradient(180deg,#0a1930,#132c50);
    font-family: 'Lexend', sans-serif;
    color: #fff;
    user-select: none;
}

canvas {
    background: #111;
    border: 2px solid #4da3ff;
    border-radius: 12px;
    display: block;
}

.score {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    color: #4da3ff;
    font-weight: 700;
    text-shadow: 0 0 10px rgba(77,163,255,0.5);
    pointer-events: none;
}

.game-over {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    font-size: 32px;
    text-align: center;
    color: #ff5555;
    font-weight: 700;
    text-shadow: 0 0 10px rgba(255,85,85,0.7);
}

button {
    margin-top: 16px;
    padding: 10px 18px;
    font-size: 18px;
    border-radius: 14px;
    border: none;
    cursor: pointer;
    background: linear-gradient(180deg,#4da3ff,#66c0ff);
    color: #032033;
    font-weight: 700;
}
button:hover {
    filter: brightness(1.2);
}
</style>
</head>
<body>
<div class="score" id="score">Score: 0</div>
<canvas id="gameCanvas" width="400" height="400"></canvas>
<div class="game-over" id="gameOver" style="display:none;">
    Game Over!<br>
    <button id="restartBtn">Restart</button>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const grid = 20;

let snake, dx, dy, apple, score, gameOverFlag;

function initGame() {
    snake = [{x: 8*grid, y: 8*grid}];
    dx = 0;
    dy = 0;
    apple = {x: Math.floor(Math.random()*20)*grid, y: Math.floor(Math.random()*20)*grid};
    score = 0;
    gameOverFlag = false;
    document.getElementById('score').textContent = 'Score: 0';
    document.getElementById('gameOver').style.display = 'none';
}

function draw() {
    if(gameOverFlag) return;
    ctx.fillStyle = '#111';
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // Draw apple
    ctx.fillStyle = '#ff5555';
    ctx.fillRect(apple.x, apple.y, grid-2, grid-2);

    // Draw snake
    ctx.fillStyle = '#4da3ff';
    snake.forEach(seg => ctx.fillRect(seg.x, seg.y, grid-2, grid-2));

    // Move snake
    const head = {x: snake[0].x + dx, y: snake[0].y + dy};
    snake.unshift(head);

    // Eat apple
    if(head.x === apple.x && head.y === apple.y){
        score++;
        document.getElementById('score').textContent = 'Score: ' + score;
        apple = {x: Math.floor(Math.random()*20)*grid, y: Math.floor(Math.random()*20)*grid};
    } else {
        snake.pop();
    }

    // Collision with walls
    if(head.x < 0 || head.x >= canvas.width || head.y < 0 || head.y >= canvas.height){
        endGame();
    }

    // Collision with self
    for(let i=1;i<snake.length;i++){
        if(head.x===snake[i].x && head.y===snake[i].y){
            endGame();
        }
    }

    if(!gameOverFlag) requestAnimationFrame(draw);
}

function endGame() {
    gameOverFlag = true;
    document.getElementById('gameOver').style.display = 'block';
}

document.addEventListener('keydown', e => {
    switch(e.key){
        case 'ArrowUp': if(dy===0){dx=0;dy=-grid;} break;
        case 'ArrowDown': if(dy===0){dx=0;dy=grid;} break;
        case 'ArrowLeft': if(dx===0){dx=-grid;dy=0;} break;
        case 'ArrowRight': if(dx===0){dx=grid;dy=0;} break;
    }
});

document.getElementById('restartBtn').addEventListener('click', ()=>{
    initGame();
    draw();
});

initGame();
draw();
</script>
</body>
</html>
